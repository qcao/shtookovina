# Шτookωвiнα

*Шτookωвiнα находится на стадии бета-тестирования. Поучаствуйте в нём!*

Эта программа разработана чтобы быть полезной тем кто изучает иностранные
языки. Некоторые её особенности:

* используются аудио записи из проекта [Shtooka](http://shtooka.net/), эти
  записи сделаны волонтёрами, носителями языка, а не роботами;

* программа использует минималистичный интерфейс командной строки, который
  всё-же пытается быть дружелюбным к пользователю благодаря
  [cl-readline](https://github.com/mrkkrp/cl-readline) и
  [cl-ansi-term](https://github.com/mrkkrp/cl-ansi-term);

* программа включает в себя разнообразные упражнения, которые помогают
  работать над различными аспектами запоминания слов: перевод, написание и
  восприятие на слух;

* имеется также упражнение «кроссворд», которое использует слова из
  пользовательского словаря;

* программа полностью открыта к изменениям и модификациям со стороны
  пользователя через редактирование конфигурационного файла на языке Common
  Lisp, так что пользователь может добавлять новые команды и вообще менять
  что-угодно в поведении программы;

* программа не строится на предположениях о языке который будет изучаться с
  её помощью, вместо этого она позволяет описывать любые языки и легко
  добавлять их;

* язык интерфейса также может быть выбран, новые переводы создаются путём
  перевода основной версии на английском, по сути достаточно просто
  отредактировать набор строк;

* для тех пользователей кто не знаком с Common Lisp, имеется так называемый
  Wizard, который может помочь в настройке основных параметров;

* имеется также и встроенный интерактивный обучающий курс.

## Сборка и Установка

Процедура установки достаточно проста:

1. Установите [SBCL](http://www.sbcl.org/), Шτookωвiнα написана на
   стандартизированном Common Lisp и не опирается на специфические
   особенности SBCL, однако только версия собранная на SBCL протестирована;

2. Установите [Quicklisp](http://www.quicklisp.org/) для того, чтобы
   автоматически скачать все зависимости:

   ```
   $ curl -O http://beta.quicklisp.org/quicklisp.lisp
   $ sbcl --load quicklisp.lisp
   * (quicklisp-quickstart:install)
   * (quit)
   ```

3. Установите [Buildapp](http://www.xach.com/lisp/buildapp/), отдавайте
   предпочтение более свежим версиям:

   ```
   $ git clone https://github.com/xach/buildapp.git
   $ cd buildapp
   # make install
   ```

4. Скачайте или клонируйте Шτookωвiнα репозиторий:

   ```
   $ git clone https://github.com/mrkkrp/shtookovina.git
   ```

5. Перейдите в созданную директорию и соберите программу:

   ```
   $ cd shtookovina
   $ make
   ```

6. Теперь вы должны иметь исполняемый файл Шτookωвiнα в директории
   `build/shtk`, вы можете установить его так:

   ```
   # bash install.sh
   ```

7. Готово (вы можете использовать `uninstall.sh` чтобы удалить эту
   программу).

## Как запустить Шτookωвiнα?

Шτookωвiнα может быть использована одним пользователем для изучения разных
языков. Поэтому она должна хранить файлы словарей и конфигурационные файлы
для каждого изучаемого языка. Вы должны указать изучаемый язык при запуске
программы с помощью опции `-t` или `--target`:

```
$ shtk -t en # если вы хотите изучать английский язык
```

Эта опция обязательна. Если вы захотите добавить определения новых языков,
пожалуйста ознакомьтесь со стандартом
[ISO 639-2](http://www.loc.gov/standards/iso639-2/php/code_list.php) чтобы
выбрать двубуквенный код языка.

## Wizard и аудио

Теперь, когда вы установили Шτookωвiнα, вам всё ещё остаётся её
сконфигурировать. В начале Шτookωвiнα была запланирована как программа для
продвинутых Лисп программистов, но позже мы решили сделать её более
«дружелюбной» для рядового пользователя, чтобы больше людей смогли
использовать её. Чтобы Шτookωвiнα работала, вы должны написать немного Лисп
кода в вашем файле конфигурации, устанавливая значения переменных и
определяя некоторые хуки. Однако у нас есть так называемый Wizard, который
может сделать это автоматически.

![Шτookωвiнα Wizard](img/wizard.png)

Когда вы запустите Шτookωвiнα в первый раз, Wizard будет вызван (если
конечно вы не используете опцию `--no-wizard`). Сначала он спросит вас о
языке интерфейса на английском (это язык интерфейса по умолчанию, Шτookωвiнα
будет использовать тот язык, который вы укажете).

Кроме того, Шτookωвiнα должна знать где базы данных содержащие аудио
находятся в вашей системе. Шτookωвiнα использует базы данных французского
проекта Shtooka и для скорости они должны быть скачаны, разархивированы и
помещены под одной директорией. Вы можете скачать базы данных с официального
сайта [http://download.shtooka.net/](http://download.shtooka.net/). Не
забудьте разархивировать архивы.

Затем Wizard спросит вас как вы желаете воспроизводить аудио файлы (проект
Shtooka использует формат FLAC). Вы должны выбрать один из предложенных
вариантов.

Наконец для того, чтобы использовать команды `query` и `conj` (открывать
веб-страницу с описанием данного слова или таблицу спряжений указанного
глагола) вам в настоящее время нужно вручную отредактировать соответствующие
хуки в вашем конфигурационном файле, поскольку мы не знаем какие веб-сервисы
вы предпочитаете использовать для этого, и, соответственно, вы не знаем как
сгенерировать URL для данного слова.

## Обучающий курс

Шτookωвiнα имеет встроенный интерактивный обучающий курс, который
демонстрирует базовые команды:

![Шτookωвiнα обучающий курс](img/tutorial.png)

Этот курс покрывает следующие темы:

* Как находить новые команды и узнавать об особенностях программы?

* Как получить полное описание любой команды?

* Как добавлять слова и фразы в пользовательский словарь?

* Какие упражнения доступны для запоминания этих слов?

* Как отобразить информацию о словаре или подробную информацию об отдельных
  его словах или фразах?

## Упражнения

В настоящий момент имеется четыре различных упражнения:

### Перевод

![Упражнение на перевод](img/translation.png)

В этом упражнении вам дается слово (на языке интерфейса или же на изучаемом
языке) и четыре возможные перевода. Вы должны выбрать правильный перевод.

### Упражнение «конструктор слов»

![Упражнение «конструктор слов»](img/constructor.png)

Вам даётся перевод некоторого слова и перемешанные буквы этого слова. Вам
необходимо ввести это слово правильно, буква за буквой.

### Упражнение на восприятие на слух

![Упражнение на восприятие на слух](img/listening.png)

Воспроизводится некоторая аудио запись релевантная отгадываемому слову. Вы
должны распознать предлагаемое слово и ввести его верно.

### Кроссворд

![Кроссворд](img/crossword.png)

В предлагаемом варианте этой игры кроссворд не показывается визуально. На
самом деле это не важно, может ли кроссворд из этого упражнения быть
нарисован или нет. Вам предлагаются различные слова, которые вы должны
отгадать и ввести верно по их описаниям. Если вы не знаете какое-либо слово,
вы можете пропустить его введя пустую строку. Если вы вводите слово
правильно, то некоторые буквы других слов, совпадающие с буквами отгаданного
слова, открываются.

## Как внести свой вклад в этот проект?

Нам нужна ваша помощь. Существует много способов помочь этому проекту:

* напишите определение вашего языка, если он отсутствует, см. директорию
  `langs` с инструкциями и примерами;

* сделайте перевод пользовательского интерфейса, см. директорию `ui-langs` с
  инструкциями и примерами;

* переведите этот `README-ru.md` файл, замените две буквы, указывающие на
  язык документа в названии этого файла, например он будет называться
  `README-fr.md` (если это французский язык);

* если вы нашли баг (или просто имеете интересные идеи), пожалуйста
  [сообщите о проблеме](https://github.com/mrkkrp/shtookovina/issues).

## Лицензия

Авторское право © 2015 Марк Карпов

Распространяется под GNU GPL, версия 3.
